var app=function(){"use strict";function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function r(t){return t()}function o(){return Object.create(null)}function c(t){t.forEach(r)}function s(t){return"function"==typeof t}function u(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function i(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function a(t,n,e){t.$$.on_destroy.push(i(n,e))}const l="undefined"!=typeof window;let f=l?()=>window.performance.now():()=>Date.now(),d=l?t=>requestAnimationFrame(t):t;const p=new Set;function h(t){p.forEach(n=>{n.c(t)||(p.delete(n),n.f())}),0!==p.size&&d(h)}function g(t,n){t.appendChild(n)}function m(t,n,e){t.insertBefore(n,e||null)}function b(t){t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function w(t){return document.createTextNode(t)}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function x(t,n){n=""+n,t.data!==n&&(t.data=n)}let v;function A(t){v=t}const _=[],E=[],F=[],k=[],j=Promise.resolve();let O=!1;function C(t){F.push(t)}let S=!1;const P=new Set;function D(){if(!S){S=!0;do{for(let t=0;t<_.length;t+=1){const n=_[t];A(n),V(n.$$)}for(_.length=0;E.length;)E.pop()();for(let t=0;t<F.length;t+=1){const n=F[t];P.has(n)||(P.add(n),n())}F.length=0}while(_.length);for(;k.length;)k.pop()();O=!1,S=!1,P.clear()}}function V(t){if(null!==t.fragment){t.update(),c(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(C)}}const q=new Set;function B(t,n){-1===t.$$.dirty[0]&&(_.push(t),O||(O=!0,j.then(D)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function N(n,e,u,i,a,l,f=[-1]){const d=v;A(n);const p=e.props||{},h=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:o(),dirty:f};let g=!1;if(h.ctx=u?u(n,p,(t,e,...r)=>{const o=r.length?r[0]:e;return h.ctx&&a(h.ctx[t],h.ctx[t]=o)&&(h.bound[t]&&h.bound[t](o),g&&B(n,t)),e}):[],h.update(),g=!0,c(h.before_update),h.fragment=!!i&&i(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(b)}else h.fragment&&h.fragment.c();e.intro&&((m=n.$$.fragment)&&m.i&&(q.delete(m),m.i(y))),function(t,n,e){const{fragment:o,on_mount:u,on_destroy:i,after_update:a}=t.$$;o&&o.m(n,e),C(()=>{const n=u.map(r).filter(s);i?i.push(...n):c(n),t.$$.on_mount=[]}),a.forEach(C)}(n,e.target,e.anchor),D()}var m,y;A(d)}const T=[];function z(n,e=t){let r;const o=[];function c(t){if(u(n,t)&&(n=t,r)){const t=!T.length;for(let t=0;t<o.length;t+=1){const e=o[t];e[1](),T.push(e,n)}if(t){for(let t=0;t<T.length;t+=2)T[t][0](T[t+1]);T.length=0}}}return{set:c,update:function(t){c(t(n))},subscribe:function(s,u=t){const i=[s,u];return o.push(i),1===o.length&&(r=e(c)||t),s(n),()=>{const t=o.indexOf(i);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}function I(n,e,r){const o=!Array.isArray(n),u=o?[n]:n,a=e.length<2;return{subscribe:z(r,n=>{let r=!1;const l=[];let f=0,d=t;const p=()=>{if(f)return;d();const r=e(o?l[0]:l,n);a?n(r):d=s(r)?r:t},h=u.map((t,n)=>i(t,t=>{l[n]=t,f&=~(1<<n),r&&p()},()=>{f|=1<<n}));return r=!0,p(),function(){c(h),d()}}).subscribe}}function M(t){return"[object Date]"===Object.prototype.toString.call(t)}function R(t,n){if(t===n||t!=t)return()=>t;const e=typeof t;if(e!==typeof n||Array.isArray(t)!==Array.isArray(n))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const e=n.map((n,e)=>R(t[e],n));return t=>e.map(n=>n(t))}if("object"===e){if(!t||!n)throw new Error("Object cannot be null");if(M(t)&&M(n)){t=t.getTime();const e=(n=n.getTime())-t;return n=>new Date(t+n*e)}const e=Object.keys(n),r={};return e.forEach(e=>{r[e]=R(t[e],n[e])}),t=>{const n={};return e.forEach(e=>{n[e]=r[e](t)}),n}}if("number"===e){const e=n-t;return n=>t+n*e}throw new Error(`Cannot interpolate ${e} values`)}function U(t,r={}){const o=z(t);let c,s=t;function u(u,i){if(null==t)return o.set(t=u),Promise.resolve();s=u;let a=c,l=!1,{delay:g=0,duration:m=400,easing:b=n,interpolate:y=R}=e(e({},r),i);if(0===m)return a&&(a.abort(),a=null),o.set(t=s),Promise.resolve();const w=f()+g;let $;return c=function(t){let n;return 0===p.size&&d(h),{promise:new Promise(e=>{p.add(n={c:t,f:e})}),abort(){p.delete(n)}}}(n=>{if(n<w)return!0;l||($=y(t,u),"function"==typeof m&&(m=m(t,u)),l=!0),a&&(a.abort(),a=null);const e=n-w;return e>m?(o.set(t=u),!1):(o.set(t=$(b(e/m))),!0)}),c.promise}return{set:u,update:(n,e)=>u(n(s,t),e),subscribe:o.subscribe}}function G(n){let e,r,o,c,s,u,i,a,l,f,d,p,h,v,A=n[0].toFixed(0)+"",_=n[1].toFixed(0)+"",E=n[2].toFixed(0)+"";return{c(){e=y("div"),r=y("div"),o=y("span"),c=w(A),s=w("%"),i=w(" "),a=y("div"),l=y("span"),f=w("£"),d=w(_),p=w(" / "),h=w("£"),v=w(E),$(o,"class","percentage svelte-11ns8wu"),$(r,"class","barForeground svelte-11ns8wu"),$(r,"style",u=`width: ${n[0]}vw`),$(e,"class","barBackground svelte-11ns8wu"),$(l,"class","totals svelte-11ns8wu"),$(a,"class","textBackground svelte-11ns8wu")},m(t,n){m(t,e,n),g(e,r),g(r,o),g(o,c),g(o,s),m(t,i,n),m(t,a,n),g(a,l),g(l,f),g(l,d),g(l,p),g(l,h),g(l,v)},p(t,[n]){1&n&&A!==(A=t[0].toFixed(0)+"")&&x(c,A),1&n&&u!==(u=`width: ${t[0]}vw`)&&$(r,"style",u),2&n&&_!==(_=t[1].toFixed(0)+"")&&x(d,_),4&n&&E!==(E=t[2].toFixed(0)+"")&&x(v,E)},i:t,o:t,d(t){t&&b(e),t&&b(i),t&&b(a)}}}function H(t,n){const e=t.querySelector(n);if(null===e)return null;const r=e.textContent;return null===r?null:parseFloat(r)}function J(t,n,e){let r,o,c,s=0;const u=new DOMParser,i=U(0,{duration:1e3});a(t,i,t=>e(1,o=t));const l=U(0,{duration:500});a(t,l,t=>e(2,c=t));const f=I([i,l],([t,n])=>0===n?0:100*t/n);function d(){s++,fetch(`https://api.allorigins.win/raw?url=${encodeURIComponent("https://www.blacktransalliance.org/donate/goldie-gang-supporting-black-trans-alliance/0/credit-card")}?${s}=1`,{cache:"no-store"}).then(t=>t.text()).then(t=>u.parseFromString(t,"text/html")).then(t=>({currentVal:H(t,".raisedAmount > span"),targetVal:H(t,".targetAmount > span")})).then(({currentVal:t,targetVal:n})=>{null!==t&&i.set(t,{}),null!==n&&l.set(n,{})})}return a(t,f,t=>e(0,r=t)),setInterval(d,1e4),d(),[r,o,c,i,l,f]}return new class extends class{$destroy(){!function(t,n){const e=t.$$;null!==e.fragment&&(c(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}{constructor(t){super(),N(this,t,J,G,u,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
